<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register & Login Anggota GOPAN</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;600&display=swap');

/* === BODY === */
body {
  font-family:'Poppins',sans-serif;
  margin:0; padding:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background: linear-gradient(135deg, #002855, #004a99, #007bff);
  background-size: 300% 300%;
  animation: gradientMove 10s ease infinite;
}

/* === CARD CONTAINER === */
.container {
  background: rgba(255,255,255,0.95);
  backdrop-filter: blur(14px);
  padding: 40px 28px; /* container tetap seimbang */
  border-radius: 18px;
  box-shadow: 0 8px 28px rgba(0,0,0,0.2);
  width:100%;
  max-width:380px;
  text-align:center;
  animation: fadeIn 1s ease;
}

/* === HEADER === */
h1 { 
  font-family:'Playfair Display', serif; 
  color:#002855; 
  margin-bottom:10px; 
  font-size:1.7rem; 
  letter-spacing:0.5px;
}
h1 span { color:#ffd700; }
p { margin-bottom:24px; color:#444; font-size:0.9rem; }

/* === FORM === */
.form-group { 
  margin-bottom:20px; 
  text-align:left; 
  padding: 0 4px; /* jarak kanan kiri biar lebih lega */
}
label { 
  display:block; margin-bottom:6px; 
  font-weight:600; color:#003f80; font-size:0.85rem; 
}
input {
  width:100%; 
  padding:12px 16px; /* kanan kiri lebih lega */
  border-radius:10px; 
  border:1px solid #ccd9e6;
  font-size:0.9rem; outline:none;
  transition: all 0.3s ease;
  box-sizing: border-box; /* biar tidak meluber */
}
input:focus { 
  border-color:#007bff; 
  box-shadow:0 0 5px rgba(0,123,255,0.4); 
}

/* === BUTTON === */
.submit-btn {
  width:100%; padding:12px; border:none;
  border-radius:12px;
  background: linear-gradient(135deg,#002855,#004a99);
  color:#fff; font-size:0.95rem; font-weight:600;
  cursor:pointer; transition: all 0.3s;
  box-shadow:0 4px 14px rgba(0,40,85,0.25);
  margin-top:4px;
}
.submit-btn:hover { transform: translateY(-2px); opacity:0.95; }
.submit-btn:active { transform: translateY(0); }

/* === MESSAGE === */
.error-msg, .success-msg { 
  margin-top:12px; font-weight:600; display:none; font-size:0.8rem;
}
.error-msg { color:#dc3545; }
.success-msg { color:#28a745; }

/* === TOGGLE LINK === */
.toggle-btn {
  margin-top:18px; cursor:pointer;
  color:#004a99; font-weight:600; 
  font-size:0.85rem;
  text-decoration:none; display:inline-block;
  transition:0.3s;
}
.toggle-btn:hover { color:#002855; text-decoration:underline; }

/* === ANIMATIONS === */
@keyframes fadeIn {
  from { opacity:0; transform: translateY(20px); }
  to { opacity:1; transform: translateY(0); }
}
@keyframes gradientMove {
  0% { background-position:0% 50%; }
  50% { background-position:100% 50%; }
  100% { background-position:0% 50%; }
}

/* === RESPONSIVE === */
@media(max-width:480px){
  .container { padding:28px 20px; max-width:90%; }
  h1 { font-size:1.5rem; }
  p { font-size:0.8rem; }
}
</style>
</head>
<body>

<div class="container">
  <h1 id="formTitle">Login User <span>GOPAN</span></h1>
  <p id="formDesc">Masuk menggunakan akun GOPAN Anda</p>

  <!-- FORM LOGIN -->
  <form id="loginForm">
    <div class="form-group">
      <label for="loginUsername">Nama Pengguna</label>
      <input type="text" id="loginUsername" placeholder="Masukkan nama pengguna" required>
    </div>
    <div class="form-group">
      <label for="loginPassword">Kata Sandi</label>
      <input type="password" id="loginPassword" placeholder="Masukkan kata sandi" required>
    </div>
    <button type="submit" class="submit-btn">✨ Masuk ✨</button>
    <div class="error-msg" id="loginError">Nama pengguna atau kata sandi salah!</div>
  </form>

  <!-- FORM REGISTER -->
  <form id="registerForm" style="display:none;">
    <div class="form-group">
      <label for="regUsername">Nama Pengguna</label>
      <input type="text" id="regUsername" placeholder="Masukkan nama pengguna" required>
    </div>
    <div class="form-group">
      <label for="regPassword">Kata Sandi</label>
      <input type="password" id="regPassword" placeholder="Masukkan kata sandi" required>
    </div>
    <button type="submit" class="submit-btn">✨ Daftar ✨</button>
    <div class="error-msg" id="regError">Nama pengguna sudah digunakan!</div>
    <div class="success-msg" id="regSuccess">Pendaftaran berhasil! Silakan login.</div>
  </form>

  <div class="toggle-btn" id="toggleForm">Belum punya akun User? Daftar sekarang</div>
</div>

<script>
const loginForm = document.getElementById('loginForm');
const registerForm = document.getElementById('registerForm');
const toggleBtn = document.getElementById('toggleForm');
const formTitle = document.getElementById('formTitle');
const formDesc = document.getElementById('formDesc');

const loginError = document.getElementById('loginError');
const regError = document.getElementById('regError');
const regSuccess = document.getElementById('regSuccess');

// Toggle login <-> register
toggleBtn.addEventListener('click', () => {
  if(loginForm.style.display === 'none'){
    loginForm.style.display = 'block';
    registerForm.style.display = 'none';
    formTitle.innerHTML = 'Login User <span>GOPAN</span>';
    formDesc.textContent = 'Masuk menggunakan akun GOPAN Anda';
    toggleBtn.textContent = 'Belum punya akun User? Daftar sekarang';
  } else {
    loginForm.style.display = 'none';
    registerForm.style.display = 'block';
    formTitle.innerHTML = 'Register User <span>GOPAN</span>';
    formDesc.textContent = 'Buat akun GOPAN baru Anda';
    toggleBtn.textContent = 'Sudah punya akun User? Masuk';
  }
});

// REGISTER
registerForm.addEventListener('submit', function(e){
  e.preventDefault();
  const username = document.getElementById('regUsername').value.trim();
  const password = document.getElementById('regPassword').value.trim();
  let users = JSON.parse(localStorage.getItem('users')) || [];

  if(users.find(u => u.username === username)){
    regError.style.display = 'block';
    regSuccess.style.display = 'none';
  } else {
    users.push({username,password});
    localStorage.setItem('users', JSON.stringify(users));
    regError.style.display = 'none';
    regSuccess.style.display = 'block';
    registerForm.reset();
  }
});

// LOGIN
loginForm.addEventListener('submit', function(e){
  e.preventDefault();
  const username = document.getElementById('loginUsername').value.trim();
  const password = document.getElementById('loginPassword').value.trim();
  let users = JSON.parse(localStorage.getItem('users')) || [];
  const user = users.find(u => u.username === username && u.password === password);

  if(user){
    loginError.style.display = 'none';
    localStorage.setItem('loggedInUser', username);
    window.location.href = 'dashboard.html';
  } else {
    loginError.style.display = 'block';
  }
});
</script>

</body>
</html>
